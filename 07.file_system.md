# ğŸ“ Best File System Structure for LangChain Projects

> Project Organization, Scalability, and Best Practices Guide

---

## ğŸ“‘ Table of Contents

### Project Structures

- [Overview](#-overview) - Line 6
- [Basic/Small Project](#basicsmall-project-single-feature) - Line 19
- [Medium Project](#medium-project-multiple-features) - Line 50
- [Large/Enterprise Project](#largeenterprise-project-multiple-services) - Line 202

### Detailed Explanations

- [Detailed Directory Explanations](#-detailed-directory-explanations) - Line 380
  - [src/ Directory](#src-directory) - Line 382
  - [data/ Directory](#data-directory) - Line 430
  - [tests/ Directory](#tests-directory) - Line 449

### Configuration & Setup

- [Configuration File Examples](#-configuration-file-examples) - Line 473
  - [.env Example](#env-environment-variables) - Line 475
  - [requirements.txt](#requirementstxt) - Line 504
  - [setup.py](#setuppy) - Line 542
  - [pyproject.toml](#pyprojecttoml) - Line 571

### Architecture & Patterns

- [Architecture Pattern Example](#-architecture-pattern-example) - Line 603
- [File Naming Conventions](#-file-naming-conventions) - Line 637
- [Module Organization Examples](#-module-organization-examples) - Line 757
  - [RAG Application](#example-1-rag-application) - Line 759
  - [Agent Application](#example-2-agent-application) - Line 782
  - [Multi-Chain System](#example-3-multi-chain-system) - Line 805

### Deployment & DevOps

- [.gitignore Template](#-gitignore-template) - Line 655
- [Dockerfile Example](#-dockerfile-example) - Line 729
- [Test Organization Example](#-test-organization-example) - Line 826
- [CI/CD Configuration Example](#-cicd-configuration-example) - Line 902

### Guidelines & Best Practices

- [Scaling Guidelines](#-scaling-guidelines) - Line 858
- [Documentation Structure](#-documentation-structure) - Line 949
- [Quick Checklist](#-quick-checklist-for-new-langchain-project) - Line 975
- [Key Principles](#-key-principles) - Line 995
- [Common Mistakes to Avoid](#-common-mistakes-to-avoid) - Line 1008

---

## ğŸ“‹ Overview

A well-organized LangChain project structure is critical for:

- **Maintainability** - Easy to find and modify code
- **Scalability** - Add features without breaking existing code
- **Testability** - Easy to write and run tests
- **Reusability** - Share components across projects
- **Deployment** - Clean separation of concerns for production

---

## ğŸ—ï¸ Recommended Project Structure

### Basic/Small Project (Single Feature)

```
my_langchain_project/
â”œâ”€â”€ README.md
â”œâ”€â”€ .env
â”œâ”€â”€ .gitignore
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ main.py
â”‚
â”œâ”€â”€ agents/
â”‚   â””â”€â”€ my_agent.py
â”‚
â”œâ”€â”€ chains/
â”‚   â””â”€â”€ my_chain.py
â”‚
â”œâ”€â”€ prompts/
â”‚   â””â”€â”€ templates.py
â”‚
â”œâ”€â”€ tools/
â”‚   â””â”€â”€ custom_tools.py
â”‚
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ helpers.py
â”‚
â””â”€â”€ tests/
    â”œâ”€â”€ test_agent.py
    â”œâ”€â”€ test_chain.py
    â””â”€â”€ test_tools.py
```

### Medium Project (Multiple Features)

```
my_langchain_project/
â”œâ”€â”€ README.md
â”œâ”€â”€ .env
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .env.example
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ setup.py
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ settings.py
â”‚   â”‚   â””â”€â”€ constants.py
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ llm.py
â”‚   â”‚   â””â”€â”€ embeddings.py
â”‚   â”‚
â”‚   â”œâ”€â”€ prompts/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.txt
â”‚   â”‚   â”‚   â”œâ”€â”€ summarization.txt
â”‚   â”‚   â”‚   â””â”€â”€ extraction.txt
â”‚   â”‚   â””â”€â”€ builders.py
â”‚   â”‚
â”‚   â”œâ”€â”€ chains/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py
â”‚   â”‚   â”œâ”€â”€ rag_chain.py
â”‚   â”‚   â”œâ”€â”€ qa_chain.py
â”‚   â”‚   â””â”€â”€ summarization_chain.py
â”‚   â”‚
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_agent.py
â”‚   â”‚   â”œâ”€â”€ react_agent.py
â”‚   â”‚   â””â”€â”€ multi_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ calculators.py
â”‚   â”‚   â”œâ”€â”€ web_search.py
â”‚   â”‚   â”œâ”€â”€ database.py
â”‚   â”‚   â””â”€â”€ file_operations.py
â”‚   â”‚
â”‚   â”œâ”€â”€ retrievers/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ document_loader.py
â”‚   â”‚   â”œâ”€â”€ vector_store.py
â”‚   â”‚   â””â”€â”€ custom_retriever.py
â”‚   â”‚
â”‚   â”œâ”€â”€ memory/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ conversation.py
â”‚   â”‚   â””â”€â”€ persistent_memory.py
â”‚   â”‚
â”‚   â”œâ”€â”€ callbacks/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ logging_handler.py
â”‚   â”‚   â”œâ”€â”€ streaming_handler.py
â”‚   â”‚   â””â”€â”€ metrics_handler.py
â”‚   â”‚
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ input_schemas.py
â”‚   â”‚   â””â”€â”€ output_schemas.py
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ helpers.py
â”‚   â”‚   â”œâ”€â”€ validators.py
â”‚   â”‚   â””â”€â”€ converters.py
â”‚   â”‚
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ routes.py
â”‚       â””â”€â”€ dependencies.py
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ documents/
â”‚   â”‚   â”œâ”€â”€ raw/
â”‚   â”‚   â”‚   â””â”€â”€ *.pdf, *.txt, *.docx
â”‚   â”‚   â””â”€â”€ processed/
â”‚   â”‚       â””â”€â”€ *.json, *.pkl
â”‚   â”‚
â”‚   â””â”€â”€ cache/
â”‚       â”œâ”€â”€ embeddings/
â”‚       â””â”€â”€ vectors/
â”‚
â”œâ”€â”€ logs/
â”‚   â”œâ”€â”€ app.log
â”‚   â”œâ”€â”€ errors.log
â”‚   â””â”€â”€ debug.log
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py
â”‚   â”‚
â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â”œâ”€â”€ test_chains.py
â”‚   â”‚   â”œâ”€â”€ test_agents.py
â”‚   â”‚   â”œâ”€â”€ test_tools.py
â”‚   â”‚   â””â”€â”€ test_retrievers.py
â”‚   â”‚
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â”œâ”€â”€ test_end_to_end.py
â”‚   â”‚   â”œâ”€â”€ test_api.py
â”‚   â”‚   â””â”€â”€ test_rag_system.py
â”‚   â”‚
â”‚   â””â”€â”€ fixtures/
â”‚       â”œâ”€â”€ sample_documents.py
â”‚       â”œâ”€â”€ mock_responses.py
â”‚       â””â”€â”€ test_data.json
â”‚
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ exploration.ipynb
â”‚   â”œâ”€â”€ experimentation.ipynb
â”‚   â””â”€â”€ prototyping.ipynb
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ setup_environment.sh
â”‚   â”œâ”€â”€ build_index.py
â”‚   â”œâ”€â”€ load_documents.py
â”‚   â”œâ”€â”€ evaluate_models.py
â”‚   â””â”€â”€ deploy.sh
â”‚
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â””â”€â”€ .dockerignore
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ architecture.md
â”‚   â”œâ”€â”€ setup.md
â”‚   â”œâ”€â”€ api_reference.md
â”‚   â””â”€â”€ examples.md
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yml
â”‚       â””â”€â”€ deploy.yml
â”‚
â””â”€â”€ main.py
```

### Large/Enterprise Project (Multiple Services)

```
langchain_platform/
â”‚
â”œâ”€â”€ README.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ setup.py
â”œâ”€â”€ pyproject.toml
â”‚
â”œâ”€â”€ .github/
â”‚   â”œâ”€â”€ workflows/
â”‚   â”‚   â”œâ”€â”€ ci.yml
â”‚   â”‚   â”œâ”€â”€ cd.yml
â”‚   â”‚   â””â”€â”€ testing.yml
â”‚   â”‚
â”‚   â””â”€â”€ ISSUE_TEMPLATE/
â”‚       â””â”€â”€ bug_report.md
â”‚
â”œâ”€â”€ services/
â”‚   â”‚
â”‚   â”œâ”€â”€ rag_service/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ app.py
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ chains/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ rag.py
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ retrievers/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ vector.py
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ routes.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ schemas.py
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚   â”‚       â””â”€â”€ helpers.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”‚   â”œâ”€â”€ test_chain.py
â”‚   â”‚   â”‚   â””â”€â”€ test_api.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ agent_service/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ app.py
â”‚   â”‚   â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â””â”€â”€ orchestration_service/
â”‚       â”œâ”€â”€ src/
â”‚       â”œâ”€â”€ tests/
â”‚       â”œâ”€â”€ requirements.txt
â”‚       â”œâ”€â”€ Dockerfile
â”‚       â””â”€â”€ README.md
â”‚
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ common.py
â”‚   â”‚   â””â”€â”€ requests.py
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ logging.py
â”‚   â”‚   â”œâ”€â”€ validators.py
â”‚   â”‚   â””â”€â”€ converters.py
â”‚   â”‚
â”‚   â””â”€â”€ models/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ base_models.py
â”‚       â””â”€â”€ llm_models.py
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ documents/
â”‚   â”‚   â”œâ”€â”€ raw/
â”‚   â”‚   â”œâ”€â”€ processed/
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ indexes/
â”‚   â”‚   â”œâ”€â”€ vector_db/
â”‚   â”‚   â””â”€â”€ cache/
â”‚   â”‚
â”‚   â””â”€â”€ configs/
â”‚       â”œâ”€â”€ model_configs.yaml
â”‚       â”œâ”€â”€ prompt_configs.yaml
â”‚       â””â”€â”€ tool_configs.yaml
â”‚
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”œâ”€â”€ nginx.conf
â”‚   â””â”€â”€ .dockerignore
â”‚
â”œâ”€â”€ kubernetes/
â”‚   â”œâ”€â”€ namespace.yaml
â”‚   â”œâ”€â”€ rag_service.yaml
â”‚   â”œâ”€â”€ agent_service.yaml
â”‚   â”œâ”€â”€ orchestration_service.yaml
â”‚   â””â”€â”€ ingress.yaml
â”‚
â”œâ”€â”€ monitoring/
â”‚   â”œâ”€â”€ prometheus/
â”‚   â”‚   â””â”€â”€ prometheus.yml
â”‚   â”‚
â”‚   â”œâ”€â”€ grafana/
â”‚   â”‚   â””â”€â”€ dashboards/
â”‚   â”‚
â”‚   â””â”€â”€ logging/
â”‚       â””â”€â”€ fluent-bit.conf
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ setup_dev_environment.sh
â”‚   â”œâ”€â”€ build_all_services.sh
â”‚   â”œâ”€â”€ deploy_services.sh
â”‚   â”œâ”€â”€ run_tests.sh
â”‚   â””â”€â”€ cleanup.sh
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ architecture/
â”‚   â”‚   â”œâ”€â”€ overview.md
â”‚   â”‚   â””â”€â”€ diagrams/
â”‚   â”‚
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ rag_service.md
â”‚   â”‚   â”œâ”€â”€ agent_service.md
â”‚   â”‚   â””â”€â”€ openapi.yaml
â”‚   â”‚
â”‚   â”œâ”€â”€ deployment/
â”‚   â”‚   â”œâ”€â”€ docker.md
â”‚   â”‚   â”œâ”€â”€ kubernetes.md
â”‚   â”‚   â””â”€â”€ aws.md
â”‚   â”‚
â”‚   â”œâ”€â”€ development/
â”‚   â”‚   â”œâ”€â”€ setup.md
â”‚   â”‚   â”œâ”€â”€ coding_standards.md
â”‚   â”‚   â””â”€â”€ testing.md
â”‚   â”‚
â”‚   â””â”€â”€ examples/
â”‚       â”œâ”€â”€ basic_rag.md
â”‚       â”œâ”€â”€ agent_workflow.md
â”‚       â””â”€â”€ multi_agent_system.md
â”‚
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ prototyping/
â”‚   â”‚   â””â”€â”€ experiment_01.ipynb
â”‚   â”‚
â”‚   â””â”€â”€ analysis/
â”‚       â””â”€â”€ performance_analysis.ipynb
â”‚
â”œâ”€â”€ logs/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ rag_service.log
â”‚   â”‚   â””â”€â”€ agent_service.log
â”‚   â”‚
â”‚   â””â”€â”€ errors.log
â”‚
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .dockerignore
â”œâ”€â”€ Makefile
â””â”€â”€ tox.ini
```

---

## ğŸ“‚ Detailed Directory Explanations

### `src/` Directory

**Core application code with clear separation of concerns.**

```
src/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ settings.py          # Configuration management, env vars
â”‚   â””â”€â”€ constants.py         # App-wide constants
â”‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ llm.py              # LLM initialization
â”‚   â””â”€â”€ embeddings.py       # Embedding model setup
â”‚
â”œâ”€â”€ prompts/
â”‚   â”œâ”€â”€ templates/          # Prompt files (.txt, .jinja2)
â”‚   â””â”€â”€ builders.py         # Dynamic prompt construction
â”‚
â”œâ”€â”€ chains/
â”‚   â””â”€â”€ *.py               # Individual chain implementations
â”‚
â”œâ”€â”€ agents/
â”‚   â””â”€â”€ *.py               # Agent implementations
â”‚
â”œâ”€â”€ tools/
â”‚   â””â”€â”€ *.py               # Tool definitions
â”‚
â”œâ”€â”€ retrievers/
â”‚   â””â”€â”€ *.py               # Retrieval logic
â”‚
â”œâ”€â”€ memory/
â”‚   â””â”€â”€ *.py               # Memory management
â”‚
â”œâ”€â”€ callbacks/
â”‚   â””â”€â”€ *.py               # Custom callbacks
â”‚
â”œâ”€â”€ schemas/
â”‚   â”œâ”€â”€ input_schemas.py    # Input validation (Pydantic)
â”‚   â””â”€â”€ output_schemas.py   # Output structures
â”‚
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ *.py               # Helper functions
â”‚
â””â”€â”€ api/
    â”œâ”€â”€ routes.py           # FastAPI routes (if using API)
    â””â”€â”€ dependencies.py     # Dependency injection
```

### `data/` Directory

**All data files with clear organization.**

```
data/
â”œâ”€â”€ documents/
â”‚   â”œâ”€â”€ raw/               # Original files (PDFs, etc.)
â”‚   â””â”€â”€ processed/         # After chunking, vectorization
â”‚
â”œâ”€â”€ cache/
â”‚   â”œâ”€â”€ embeddings/        # Cached embeddings
â”‚   â””â”€â”€ vectors/           # Vector store files
â”‚
â””â”€â”€ configs/               # Configuration files
    â”œâ”€â”€ *.yaml
    â””â”€â”€ *.json
```

### `tests/` Directory

**Comprehensive test structure.**

```
tests/
â”œâ”€â”€ conftest.py           # pytest configuration, fixtures
â”‚
â”œâ”€â”€ unit/                 # Fast, isolated tests
â”‚   â”œâ”€â”€ test_chains.py
â”‚   â”œâ”€â”€ test_agents.py
â”‚   â””â”€â”€ test_tools.py
â”‚
â”œâ”€â”€ integration/          # Slower, system tests
â”‚   â”œâ”€â”€ test_end_to_end.py
â”‚   â””â”€â”€ test_rag_system.py
â”‚
â””â”€â”€ fixtures/             # Test data and mocks
    â”œâ”€â”€ sample_documents.py
    â””â”€â”€ test_data.json
```

---

## ğŸ”§ Configuration File Examples

### `.env` (Environment Variables)

```env
# LLM Configuration
OPENAI_API_KEY=sk-xxx
OPENAI_MODEL=gpt-4
TEMPERATURE=0.7

# Embeddings
EMBEDDINGS_MODEL=text-embedding-3-small

# Database
VECTOR_DB_TYPE=faiss
VECTOR_DB_PATH=./data/indexes/vector_db

# API
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=false

# Logging
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log

# Memory
MEMORY_TYPE=buffer
MAX_TOKENS=2000
```

### `requirements.txt`

```
# Core LangChain
langchain>=0.1.0
langchain-core>=0.1.0
langchain-openai>=0.1.0

# Vector Stores
faiss-cpu>=1.7.0
chromadb>=0.3.0

# Document Processing
pdf2image>=1.16.0
python-pptx>=0.6.21
pypdf>=3.8.0

# API
fastapi>=0.100.0
uvicorn>=0.23.0
pydantic>=2.0.0

# Utilities
python-dotenv>=1.0.0
pyyaml>=6.0
requests>=2.31.0

# Testing
pytest>=7.0.0
pytest-asyncio>=0.21.0
pytest-cov>=4.1.0

# Development
black>=23.0.0
flake8>=6.0.0
mypy>=1.0.0
```

### `setup.py`

```python
from setuptools import setup, find_packages

setup(
    name="my_langchain_project",
    version="0.1.0",
    description="LangChain application",
    author="Your Name",
    packages=find_packages(where="src"),
    package_dir={"": "src"},
    python_requires=">=3.9",
    install_requires=[
        "langchain>=0.1.0",
        "langchain-openai>=0.1.0",
        "fastapi>=0.100.0",
        "python-dotenv>=1.0.0",
    ],
    extras_require={
        "dev": [
            "pytest>=7.0.0",
            "black>=23.0.0",
            "flake8>=6.0.0",
        ]
    },
)
```

### `pyproject.toml`

```toml
[build-system]
requires = ["setuptools>=45", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "my_langchain_project"
version = "0.1.0"
description = "Professional LangChain application"
requires-python = ">=3.9"

[tool.black]
line-length = 100
target-version = ['py39', 'py310', 'py311']

[tool.isort]
profile = "black"
line_length = 100

[tool.mypy]
python_version = "3.9"
strict = true

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = "test_*.py"
```

---

## ğŸ›ï¸ Architecture Pattern Example

### Project Structure Following Clean Architecture

```
src/
â”œâ”€â”€ domain/                    # Business logic (no LangChain imports)
â”‚   â”œâ”€â”€ entities.py           # Core business objects
â”‚   â””â”€â”€ interfaces.py         # Abstract interfaces
â”‚
â”œâ”€â”€ application/              # Use cases and application logic
â”‚   â”œâ”€â”€ rag_use_case.py      # RAG use case
â”‚   â”œâ”€â”€ agent_use_case.py    # Agent use case
â”‚   â””â”€â”€ dto.py               # Data transfer objects
â”‚
â”œâ”€â”€ infrastructure/           # LangChain and external systems
â”‚   â”œâ”€â”€ langchain_impl/
â”‚   â”‚   â”œâ”€â”€ chains.py
â”‚   â”‚   â”œâ”€â”€ agents.py
â”‚   â”‚   â”œâ”€â”€ retrievers.py
â”‚   â”‚   â””â”€â”€ callbacks.py
â”‚   â”‚
â”‚   â””â”€â”€ external/
â”‚       â”œâ”€â”€ api_client.py
â”‚       â””â”€â”€ database.py
â”‚
â””â”€â”€ presentation/            # API layer
    â”œâ”€â”€ api/
    â”‚   â””â”€â”€ routes.py
    â””â”€â”€ schemas.py
```

---

## ğŸ“‹ File Naming Conventions

```
âœ… GOOD:
- rag_chain.py              # Purpose is clear
- vector_store_manager.py   # Descriptive
- pdf_loader.py             # Shows input type
- test_rag_chain.py         # Clear it's a test

âŒ BAD:
- chain.py                  # Too generic
- manager.py                # Unclear purpose
- utils.py                  # Too vague (use specific names)
- main.py                   # Non-descriptive
```

---

## ğŸ”’ .gitignore Template

```
# Environment variables
.env
.env.local
.env.*.local

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Virtual environments
venv/
ENV/
env/
.venv

# IDE
.vscode/
.idea/
*.swp
*.swo
*.swn
*.sublime-workspace

# Testing
.pytest_cache/
.coverage
htmlcov/
.tox/

# Data and logs
data/raw/*
data/processed/*
logs/*.log
*.pkl
*.joblib

# Vector stores and caches
data/indexes/
data/cache/
*.faiss
*.db

# OS
.DS_Store
Thumbs.db

# API keys and secrets (if accidentally added)
*.key
*.pem
```

---

## ğŸš€ Dockerfile Example

```dockerfile
FROM python:3.11-slim

WORKDIR /app

# Copy requirements first for better caching
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy application
COPY src/ ./src/
COPY data/ ./data/

# Environment variables
ENV PYTHONUNBUFFERED=1
ENV PYTHONPATH=/app

# Create logs directory
RUN mkdir -p logs

# Run application
CMD ["python", "-m", "uvicorn", "src.api.app:app", "--host", "0.0.0.0", "--port", "8000"]
```

---

## ğŸ“Š Module Organization Examples

### Example 1: RAG Application

```
src/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.py
â”‚
â”œâ”€â”€ documents/
â”‚   â”œâ”€â”€ loader.py           # Load documents
â”‚   â”œâ”€â”€ processor.py        # Split, process
â”‚   â””â”€â”€ store.py            # Store in vector DB
â”‚
â”œâ”€â”€ chains/
â”‚   â””â”€â”€ rag_chain.py        # RAG chain
â”‚
â”œâ”€â”€ api/
â”‚   â””â”€â”€ rag_routes.py       # API endpoints
â”‚
â””â”€â”€ utils/
    â”œâ”€â”€ logging.py
    â””â”€â”€ validators.py
```

### Example 2: Agent Application

```
src/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.py
â”‚
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ base.py             # Base agent class
â”‚   â”œâ”€â”€ math_agent.py       # Math specialist
â”‚   â””â”€â”€ research_agent.py   # Research specialist
â”‚
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ calculator.py
â”‚   â”œâ”€â”€ search.py
â”‚   â””â”€â”€ database.py
â”‚
â”œâ”€â”€ api/
â”‚   â””â”€â”€ agent_routes.py
â”‚
â””â”€â”€ utils/
```

### Example 3: Multi-Chain System

```
src/
â”œâ”€â”€ chains/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_chain.py       # Base class
â”‚   â”œâ”€â”€ summarization.py    # Summarization chain
â”‚   â”œâ”€â”€ classification.py   # Classification chain
â”‚   â”œâ”€â”€ extraction.py       # Entity extraction
â”‚   â””â”€â”€ composition.py      # Chain composition
â”‚
â”œâ”€â”€ pipelines/
â”‚   â””â”€â”€ multi_chain.py      # Orchestrate chains
â”‚
â””â”€â”€ api/
    â””â”€â”€ pipeline_routes.py
```

---

## ğŸ§ª Test Organization Example

```
tests/
â”œâ”€â”€ conftest.py
â”‚
â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ chains/
â”‚   â”‚   â”œâ”€â”€ test_rag_chain.py
â”‚   â”‚   â””â”€â”€ test_summarization.py
â”‚   â”‚
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â””â”€â”€ test_math_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â””â”€â”€ test_calculator.py
â”‚   â”‚
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ test_validators.py
â”‚
â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ test_full_rag_system.py
â”‚   â””â”€â”€ test_api_endpoints.py
â”‚
â””â”€â”€ fixtures/
    â”œâ”€â”€ documents.py        # Sample documents
    â”œâ”€â”€ mocks.py           # Mock responses
    â””â”€â”€ conftest.py        # Shared fixtures
```

---

## ğŸ“ˆ Scaling Guidelines

### When to Restructure

**Level 1 (< 5 files):** Simple structure is fine

```
my_project/
â”œâ”€â”€ main.py
â”œâ”€â”€ chains.py
â”œâ”€â”€ agents.py
â””â”€â”€ tools.py
```

**Level 2 (5-50 files):** Move to `src/` with subdirectories

```
src/
â”œâ”€â”€ chains/
â”œâ”€â”€ agents/
â”œâ”€â”€ tools/
â””â”€â”€ utils/
```

**Level 3 (50-200 files):** Add clear module separation

```
src/
â”œâ”€â”€ config/
â”œâ”€â”€ models/
â”œâ”€â”€ core/           # Main logic
â”œâ”€â”€ api/           # API layer
â”œâ”€â”€ utils/         # Utilities
â””â”€â”€ infrastructure/ # External systems
```

**Level 4 (200+ files):** Microservices or plugin architecture

```
services/
â”œâ”€â”€ rag_service/
â”œâ”€â”€ agent_service/
â”œâ”€â”€ api_gateway/
â””â”€â”€ shared/
```

---

## ğŸ”„ CI/CD Configuration Example

### `.github/workflows/ci.yml`

```yaml
name: CI

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: ["3.9", "3.10", "3.11"]

    steps:
      - uses: actions/checkout@v2

      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: ${{ matrix.python-version }}

      - name: Install dependencies
        run: |
          pip install -e ".[dev]"

      - name: Lint
        run: |
          black --check src tests
          flake8 src tests

      - name: Type check
        run: |
          mypy src

      - name: Run tests
        run: |
          pytest tests/ --cov=src --cov-report=xml

      - name: Upload coverage
        uses: codecov/codecov-action@v2
```

---

## ğŸ“š Documentation Structure

```
docs/
â”œâ”€â”€ README.md               # Overview
â”‚
â”œâ”€â”€ getting_started.md      # Setup and first steps
â”œâ”€â”€ architecture.md         # System design
â”œâ”€â”€ api_reference.md        # API docs
â”‚
â”œâ”€â”€ guides/
â”‚   â”œâ”€â”€ rag_guide.md
â”‚   â”œâ”€â”€ agent_guide.md
â”‚   â””â”€â”€ deployment.md
â”‚
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ basic_rag.py
â”‚   â””â”€â”€ multi_agent.py
â”‚
â””â”€â”€ diagrams/
    â”œâ”€â”€ architecture.png
    â””â”€â”€ data_flow.png
```

---

## âœ… Quick Checklist for New LangChain Project

- [ ] Choose structure (small/medium/large)
- [ ] Create directory layout
- [ ] Set up `.env` and `.env.example`
- [ ] Create `requirements.txt` or `pyproject.toml`
- [ ] Set up `.gitignore`
- [ ] Create `README.md`
- [ ] Set up tests directory with `conftest.py`
- [ ] Add configuration management
- [ ] Set up logging configuration
- [ ] Create API routes (if needed)
- [ ] Add CI/CD workflows
- [ ] Document architecture
- [ ] Set up linting (black, flake8)
- [ ] Set up type checking (mypy)
- [ ] Create Dockerfile (if deploying)

---

## ğŸ¯ Key Principles

1. **Separation of Concerns** - Each module has single responsibility
2. **Clear Dependencies** - No circular imports
3. **Configurability** - Use env vars and config files
4. **Testability** - Easy to mock and test
5. **Scalability** - Can grow without major restructuring
6. **Documentation** - Clear purpose for each directory
7. **Consistency** - Follow conventions throughout
8. **Modularity** - Components can be reused

---

## ğŸ“Œ Common Mistakes to Avoid

| Mistake                  | Problem                 | Solution                        |
| ------------------------ | ----------------------- | ------------------------------- |
| Everything in root       | Messy, hard to navigate | Use `src/` directory            |
| Long files (1000+ lines) | Hard to maintain        | Split into modules              |
| Circular imports         | Causes runtime errors   | Use proper dependency injection |
| Hardcoded values         | Hard to configure       | Use `.env` and config files     |
| Mixed logic              | Unclear code flow       | Separate concerns               |
| No tests                 | Brittle code            | Add tests from start            |
| No documentation         | Knowledge gaps          | Document as you build           |

---

**Start with clean structure. Scale as you grow. Maintain clarity throughout.** ğŸ“âœ¨
