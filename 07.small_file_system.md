# ğŸ“ Small LangChain Project File System Structure

> Best Practices for Single-Feature LangChain Projects

---

## ğŸ“‘ Table of Contents

- [Overview](#-overview)
- [Project Structure](#-project-structure)
- [Directory Explanations](#-directory-explanations)
- [Configuration Files](#-configuration-files)
- [File Naming Conventions](#-file-naming-conventions)
- [Quick Setup Guide](#-quick-setup-guide)
- [When to Scale Up](#-when-to-scale-up)

---

## ğŸ“‹ Overview

A **small LangChain project** is ideal for:

- **Single-feature applications** - One main use case (e.g., RAG, chatbot, classification)
- **Prototypes and MVPs** - Quick proof of concepts
- **Learning projects** - Getting started with LangChain
- **Utilities** - Standalone tools or scripts
- **Demonstrations** - Examples and tutorials

**Characteristics:**

- < 5-10 Python files
- Simple, flat or minimal hierarchy
- Single LLM chain or agent
- No complex integrations
- Quick to understand and modify

---

## ğŸ—ï¸ Project Structure

```
my_langchain_project/
â”œâ”€â”€ README.md
â”œâ”€â”€ .env
â”œâ”€â”€ .gitignore
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ main.py
â”‚
â”œâ”€â”€ agents/
â”‚   â””â”€â”€ my_agent.py
â”‚
â”œâ”€â”€ chains/
â”‚   â””â”€â”€ my_chain.py
â”‚
â”œâ”€â”€ prompts/
â”‚   â””â”€â”€ templates.py
â”‚
â”œâ”€â”€ tools/
â”‚   â””â”€â”€ custom_tools.py
â”‚
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ helpers.py
â”‚
â””â”€â”€ tests/
    â”œâ”€â”€ test_agent.py
    â”œâ”€â”€ test_chain.py
    â””â”€â”€ test_tools.py
```

---

## ğŸ“‚ Directory Explanations

### Root Level Files

**`README.md`**

- Project description
- Installation instructions
- Usage examples
- API key setup

**`.env`**

- API keys and secrets
- Configuration variables
- Model names and parameters

**`.gitignore`**

- Exclude `.env`, `__pycache__`, `.pytest_cache/`, `venv/`
- Keep repository clean

**`requirements.txt`**

- Project dependencies
- Python version requirements

**`main.py`**

- Entry point for the application
- Main execution logic

### `agents/`

Single file for your agent implementation:

```python
# agents/my_agent.py
from langchain.agents import create_react_agent, AgentExecutor
from langchain_openai import ChatOpenAI
from langchain.tools import Tool

def create_my_agent(tools):
    """Create and return configured agent"""
    llm = ChatOpenAI(model="gpt-4")
    agent = create_react_agent(llm, tools)
    return AgentExecutor.from_agent_and_tools(agent, tools)
```

### `chains/`

Single file for chain logic:

```python
# chains/my_chain.py
from langchain.chains import LLMChain
from langchain_openai import ChatOpenAI
from langchain.prompts import PromptTemplate

def create_chain():
    """Create and return configured chain"""
    llm = ChatOpenAI(model="gpt-4", temperature=0.7)
    prompt = PromptTemplate(template="...", input_variables=["input"])
    return LLMChain(llm=llm, prompt=prompt)
```

### `prompts/`

Prompt templates and builders:

```python
# prompts/templates.py
from langchain.prompts import PromptTemplate

RAG_PROMPT = PromptTemplate(
    template="""Use the following context to answer the question:
{context}

Question: {question}
Answer:""",
    input_variables=["context", "question"]
)

SUMMARIZATION_PROMPT = PromptTemplate(
    template="Summarize this text: {text}",
    input_variables=["text"]
)
```

### `tools/`

Custom tools and utilities:

```python
# tools/custom_tools.py
from langchain.tools import Tool

def custom_search(query: str) -> str:
    """Custom search implementation"""
    return f"Results for {query}"

CUSTOM_TOOL = Tool(
    name="CustomSearch",
    func=custom_search,
    description="Search for information"
)
```

### `utils/`

Helper functions:

```python
# utils/helpers.py
import os
from dotenv import load_dotenv

def load_env():
    """Load environment variables"""
    load_dotenv()
    return os.getenv("OPENAI_API_KEY")

def format_output(result):
    """Format chain output"""
    return result.get("output", "").strip()
```

### `tests/`

Test files:

```python
# tests/test_chain.py
import pytest
from chains.my_chain import create_chain

def test_chain_creation():
    chain = create_chain()
    assert chain is not None

def test_chain_execution():
    chain = create_chain()
    result = chain.run(input="test")
    assert result is not None
```

---

## ğŸ”§ Configuration Files

### `.env` (Environment Variables)

```env
# API Keys
OPENAI_API_KEY=sk-xxx
OPENAI_MODEL=gpt-4
TEMPERATURE=0.7

# Optional
LOG_LEVEL=INFO
DEBUG=false
```

### `requirements.txt`

```
# Core LangChain
langchain>=0.1.0
langchain-openai>=0.1.0

# Optional Vector Store (if using RAG)
faiss-cpu>=1.7.0

# Utilities
python-dotenv>=1.0.0
requests>=2.31.0

# Testing
pytest>=7.0.0
```

### `README.md`

````markdown
# My LangChain Project

Brief description of what this project does.

## Installation

1. Clone the repository
2. Create virtual environment: `python -m venv venv`
3. Activate: `source venv/bin/activate`
4. Install: `pip install -r requirements.txt`
5. Create `.env` file with your API keys

## Usage

```python
from main import run_app

result = run_app("your input")
print(result)
```
````

## API Keys Setup

Get your OpenAI API key from https://platform.openai.com/api-keys

## Testing

```bash
pytest tests/
```

```

### `.gitignore`

```

# Environment

.env
.env.local

# Python

**pycache**/
_.py[cod]
_.egg-info/
dist/
build/

# Virtual Environment

venv/
ENV/
env/

# IDE

.vscode/
.idea/
\*.swp

# Testing

.pytest_cache/
.coverage
htmlcov/

# OS

.DS_Store

```

---

## ğŸ“‹ File Naming Conventions

```

âœ… GOOD:

- my_agent.py # Clear purpose
- pdf_chain.py # Shows what it does
- test_chain.py # Clear test file
- custom_tools.py # Descriptive

âŒ BAD:

- agent.py # Too generic
- chain.py # Unclear which chain
- utils.py # Too vague
- test.py # Unclear what's tested

````

---

## âš¡ Quick Setup Guide

```bash
# 1. Create project directory
mkdir my_langchain_project
cd my_langchain_project

# 2. Initialize git
git init

# 3. Create directories
mkdir agents chains prompts tools utils tests

# 4. Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# 5. Create requirements.txt and install
pip install langchain langchain-openai python-dotenv pytest
pip freeze > requirements.txt

# 6. Create .env file
echo "OPENAI_API_KEY=your_key_here" > .env

# 7. Create .gitignore
curl -s https://www.toptal.com/developers/gitignore/api/python > .gitignore

# 8. Create README.md
touch README.md

# 9. Create main.py entry point
touch main.py
````

---

## ğŸ”„ Basic main.py Template

```python
"""Main entry point for the LangChain application"""
import os
from dotenv import load_dotenv

# Load environment variables
load_dotenv()

from chains.my_chain import create_chain
from agents.my_agent import create_my_agent
from tools.custom_tools import CUSTOM_TOOL


def run_chain(query: str) -> str:
    """Run the chain with user input"""
    chain = create_chain()
    result = chain.run(query)
    return result


def run_agent(query: str) -> str:
    """Run the agent with user input"""
    tools = [CUSTOM_TOOL]
    agent = create_my_agent(tools)
    result = agent.run(query)
    return result


def main():
    """Main execution"""
    print("LangChain Project")
    print("=" * 50)

    # Example usage
    query = input("Enter your query: ")

    # Use chain or agent
    result = run_chain(query)
    print(f"Result: {result}")


if __name__ == "__main__":
    main()
```

---

## ğŸ“¦ Testing Structure

```python
# tests/conftest.py - Shared fixtures
import pytest
from dotenv import load_dotenv

@pytest.fixture(scope="session", autouse=True)
def load_env():
    load_dotenv()


# tests/test_chain.py
def test_chain_creation():
    from chains.my_chain import create_chain
    chain = create_chain()
    assert chain is not None


def test_chain_execution():
    from chains.my_chain import create_chain
    chain = create_chain()
    result = chain.run("test input")
    assert isinstance(result, str)
```

Run tests:

```bash
pytest tests/
pytest tests/ --verbose
pytest tests/ --cov
```

---

## âœ… Quick Checklist

- [ ] Create project directory structure
- [ ] Initialize git repository
- [ ] Set up Python virtual environment
- [ ] Create `requirements.txt`
- [ ] Create `.env` with API keys
- [ ] Create `.gitignore`
- [ ] Create `README.md`
- [ ] Write `main.py` entry point
- [ ] Implement chains/agents
- [ ] Add tests
- [ ] Test locally before deployment

---

## ğŸš€ When to Scale Up

**Consider restructuring when:**

- **More than one main feature** â†’ Move to Medium project structure
- **> 10 files** â†’ Organize into `src/` directory
- **Multiple chains/agents** â†’ Add proper module structure
- **Need for API** â†’ Add `api/` directory with FastAPI
- **Complex configuration** â†’ Create `config/` directory
- **Multiple environments** â†’ Use `config/settings.py`

See `07.file_system.md` for Medium and Large project structures.

---

## ğŸ¯ Key Principles for Small Projects

1. **Keep it simple** - Avoid over-engineering
2. **Stay organized** - Use clear directory structure
3. **Make it testable** - Add tests from the start
4. **Document as you go** - Keep README updated
5. **Use environment variables** - Never hardcode secrets
6. **Follow conventions** - Use consistent naming
7. **Plan to grow** - Structure for easy scaling

---

## ğŸ“Œ Common Pitfalls

| Mistake                | Solution                            |
| ---------------------- | ----------------------------------- |
| Everything in one file | Split into agents/, chains/, tools/ |
| Hardcoded API keys     | Use `.env` file                     |
| No tests               | Add tests/ directory                |
| No documentation       | Create README.md                    |
| Missing .gitignore     | Add Python .gitignore               |
| Circular imports       | Organize modules properly           |

---

**Keep it lean, maintain clarity, and scale when needed.** ğŸ“âœ¨
